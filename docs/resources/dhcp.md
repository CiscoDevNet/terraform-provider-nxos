---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "nxos_dhcp Resource - terraform-provider-nxos"
subcategory: "System"
description: |-
  This resource can manage the DHCP relay configuration on NX-OS devices, including relay interfaces and their associated relay server addresses.
  API Documentation: dhcpEntity https://pubhub.devnetcloud.com/media/dme-docs-10-5-3/docs/DHCP/dhcp:Entity/
  Additional API Documentation
  dhcpInst https://pubhub.devnetcloud.com/media/dme-docs-10-5-3/docs/DHCP/dhcp:Inst/dhcpRelayIf https://pubhub.devnetcloud.com/media/dme-docs-10-5-3/docs/DHCP/dhcp:RelayIf/dhcpRelayAddr https://pubhub.devnetcloud.com/media/dme-docs-10-5-3/docs/DHCP/dhcp:RelayAddr/
---

# nxos_dhcp (Resource)

This resource can manage the DHCP relay configuration on NX-OS devices, including relay interfaces and their associated relay server addresses.

- API Documentation: [dhcpEntity](https://pubhub.devnetcloud.com/media/dme-docs-10-5-3/docs/DHCP/dhcp:Entity/)

### Additional API Documentation

- [dhcpInst](https://pubhub.devnetcloud.com/media/dme-docs-10-5-3/docs/DHCP/dhcp:Inst/)
- [dhcpRelayIf](https://pubhub.devnetcloud.com/media/dme-docs-10-5-3/docs/DHCP/dhcp:RelayIf/)
- [dhcpRelayAddr](https://pubhub.devnetcloud.com/media/dme-docs-10-5-3/docs/DHCP/dhcp:RelayAddr/)

## Example Usage

```terraform
resource "nxos_dhcp" "example" {
  admin_state                                                          = "enabled"
  instance_ipv6_relay_information_option_vpn_enabled                   = true
  instance_ipv6_relay_option_type_cisco_enabled                        = true
  instance_relay_information_option_enabled                            = true
  instance_relay_information_option_trust_enabled                      = true
  instance_relay_information_option_vpn_enabled                        = true
  instance_relay_information_trust_all_enabled                         = true
  instance_relay_sub_option_circuit_id_customized_enabled              = true
  instance_relay_sub_option_circuit_id_format_string                   = "%p"
  instance_relay_sub_option_type_cisco_enabled                         = true
  instance_smart_relay_global_enabled                                  = true
  instance_snooping_enabled                                            = true
  instance_snooping_information_option_enabled                         = true
  instance_snooping_verify_mac_address_enabled                         = false
  instance_dai_log_buffer_entries                                      = 64
  instance_dai_validate_destination                                    = true
  instance_dai_validate_ip                                             = true
  instance_dai_validate_source                                         = true
  instance_ipv6_relay_option79_enabled                                 = true
  instance_packet_strict_validation                                    = true
  instance_relay_dai_enabled                                           = true
  instance_relay_information_option_server_id_override_disable_enabled = 1
  instance_relay_sub_option_format_non_tlv_enabled                     = true
  instance_relay_v4_over_v6_enabled                                    = true
  instance_relay_v6_iapd_route_add_enabled                             = true
  instance_snoop_sub_option_circuit_id_format_string                   = "%p"
  instance_snooping_sub_option_format_non_tlv_enabled                  = true
  instance_v4_relay_enabled                                            = true
  instance_v6_relay_enabled                                            = true
  instance_v6_smart_relay_global_enabled                               = true
  relay_interfaces = [{
    interface_id                = "eth1/10"
    information_trusted_enabled = true
    smart_relay_enabled         = true
    subnet_broadcast_enabled    = true
    options                     = "relay-info"
    subnet_selection            = "10.0.0.0"
    v6_smart_relay_enabled      = false
    addresses = [{
      vrf     = "VRF1"
      address = "1.1.1.1"
      counter = 1
    }]
  }]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `admin_state` (String) The administrative state of the object or policy.
  - Choices: `enabled`, `disabled`
  - Default value: `enabled`
- `device` (String) A device name from the provider configuration.
- `instance_dai_log_buffer_entries` (Number) DAI Log Buffer Entries.
  - Range: `1`-`1024`
  - Default value: `32`
- `instance_dai_validate_destination` (Boolean) DAI Validate Type: dst-mac.
- `instance_dai_validate_ip` (Boolean) DAI Validate Type: ip.
- `instance_dai_validate_source` (Boolean) DAI Validate Type: src-mac.
- `instance_ipv6_relay_information_option_vpn_enabled` (Boolean) IPv6 Relay Information Option Vpn Enabled.
- `instance_ipv6_relay_option79_enabled` (Boolean) IPv6 Relay Option79 Enabled.
- `instance_ipv6_relay_option_type_cisco_enabled` (Boolean) IPv6 Relay Sub-Option Type Cisco Enabled.
- `instance_packet_strict_validation` (Boolean) Pkt Strict Validation.
- `instance_relay_dai_enabled` (Boolean) Dynamic ARP Inspection functionality with DHCP Relay is enabled.
- `instance_relay_information_option_enabled` (Boolean) Relay Information Option Enabled.
- `instance_relay_information_option_server_id_override_disable_enabled` (Number) Relay Information Option Server-id-override-disable Enabled.
  - Range: `0`-`1`
  - Default value: `0`
- `instance_relay_information_option_trust_enabled` (Boolean) Relay Information Option Trust Enabled.
- `instance_relay_information_option_vpn_enabled` (Boolean) Relay Information Option Vpn Enabled.
- `instance_relay_information_trust_all_enabled` (Boolean) Relay Information Trust All Enabled.
- `instance_relay_sub_option_circuit_id_customized_enabled` (Boolean) Relay Sub-Option Circuit-id Customized Enabled.
- `instance_relay_sub_option_circuit_id_format_string` (String) Relay Sub-Option Circuit-id Format String.
- `instance_relay_sub_option_format_non_tlv_enabled` (Boolean) Relay Option82 Sub-Option Format Non-TLV Enabled.
- `instance_relay_sub_option_type_cisco_enabled` (Boolean) Relay Sub-Option Type Cisco Enabled.
- `instance_relay_v4_over_v6_enabled` (Boolean) v4 over v6 relay transport.
- `instance_relay_v6_iapd_route_add_enabled` (Boolean) DHCPv6 IAPD route addition.
- `instance_smart_relay_global_enabled` (Boolean) Smart Relay Global Enabled.
- `instance_snoop_sub_option_circuit_id_format_string` (String) Snoop Sub-Option Circuit-id Format String.
- `instance_snooping_enabled` (Boolean) Snooping Enabled.
- `instance_snooping_information_option_enabled` (Boolean) Snooping Information Option Enabled.
- `instance_snooping_sub_option_format_non_tlv_enabled` (Boolean) Snooping Option82 Sub-Option Format Non-TLV Enabled.
- `instance_snooping_verify_mac_address_enabled` (Boolean) Snooping Verify Mac Address Enabled.
  - Default value: `true`
- `instance_v4_relay_enabled` (Boolean) DHCPv4 Enabled.
- `instance_v6_relay_enabled` (Boolean) DHCPv6 Enabled.
- `instance_v6_smart_relay_global_enabled` (Boolean) V6 Smart Relay Global Enabled.
- `relay_interfaces` (Attributes List) List of DHCP relay interfaces. (see [below for nested schema](#nestedatt--relay_interfaces))

### Read-Only

- `id` (String) The distinguished name of the object.

<a id="nestedatt--relay_interfaces"></a>
### Nested Schema for `relay_interfaces`

Required:

- `interface_id` (String) Must match first field in the output of `show intf brief`. Example: `eth1/1`.

Optional:

- `addresses` (Attributes List) List of DHCP relay addresses. (see [below for nested schema](#nestedatt--relay_interfaces--addresses))
- `information_trusted_enabled` (Boolean) Information Trusted Enabled.
- `options` (String) DHCP options.
  - Choices: `none`, `relay-info`
  - Default value: `none`
- `smart_relay_enabled` (Boolean) Smart Relay Enabled.
- `subnet_broadcast_enabled` (Boolean) Subnet Broadcast Enabled.
- `subnet_selection` (String) DHCP relay source subnet.
- `v6_smart_relay_enabled` (Boolean) V6 Smart Relay Enabled.

<a id="nestedatt--relay_interfaces--addresses"></a>
### Nested Schema for `relay_interfaces.addresses`

Required:

- `address` (String) IPv4 or IPv6 address.
- `vrf` (String) vrf in which the dhcp server is present. Valid only when the client is in a different vrf from the server vrf.

Optional:

- `counter` (Number) Counter.
  - Range: `0`-`65535`

## Import

Import is supported using the following syntax:

In Terraform v1.12.0 and later, the [`import` block](https://developer.hashicorp.com/terraform/language/import) can be used with the `identity` attribute, for example:

```terraform
import {
  to = nxos_dhcp.example
  identity = {
  }
}
```

<!-- schema generated by tfplugindocs -->
### Identity Schema


#### Optional

- `device` (String) A device name from the provider configuration.

In Terraform v1.5.0 and later, the [`import` block](https://developer.hashicorp.com/terraform/language/import) can be used with the `id` attribute, for example:

```terraform
import {
  to = nxos_dhcp.example
  id = ""
}
```

The [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import) can be used, for example:

```shell
terraform import nxos_dhcp.example ""
```
