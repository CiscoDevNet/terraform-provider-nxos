// Copyright Â© 2023 Cisco Systems, Inc. and its affiliates.
// All rights reserved.
//
// Licensed under the Mozilla Public License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//     https://mozilla.org/MPL/2.0/
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.
//
// SPDX-License-Identifier: MPL-2.0

// Code generated by "gen/generator.go"; DO NOT EDIT.

package provider

// Section below is generated&owned by "gen/generator.go". //template:begin imports

import (
	"context"
	"fmt"
	"strconv"

	"github.com/CiscoDevNet/terraform-provider-nxos/internal/provider/helpers"
	"github.com/hashicorp/terraform-plugin-framework/types"
	"github.com/netascode/go-nxos"
	"github.com/tidwall/gjson"
	"github.com/tidwall/sjson"
)

// End of section. //template:end imports

// Section below is generated&owned by "gen/generator.go". //template:begin types

type VRF struct {
	Device             types.String         `tfsdk:"device"`
	Dn                 types.String         `tfsdk:"id"`
	Name               types.String         `tfsdk:"name"`
	Description        types.String         `tfsdk:"description"`
	AdminState         types.String         `tfsdk:"admin_state"`
	ControllerId       types.Int64          `tfsdk:"controller_id"`
	Encap              types.String         `tfsdk:"encap"`
	L3vni              types.Bool           `tfsdk:"l3vni"`
	Oui                types.String         `tfsdk:"oui"`
	VpnId              types.String         `tfsdk:"vpn_id"`
	RoutingEncap       types.String         `tfsdk:"routing_encap"`
	RouteDistinguisher types.String         `tfsdk:"route_distinguisher"`
	AddressFamilies    []VRFAddressFamilies `tfsdk:"address_families"`
}

type VRFAddressFamilies struct {
	AddressFamily              types.String                                   `tfsdk:"address_family"`
	RouteTargetAddressFamilies []VRFAddressFamiliesRouteTargetAddressFamilies `tfsdk:"route_target_address_families"`
}

type VRFAddressFamiliesRouteTargetAddressFamilies struct {
	RouteTargetAddressFamily types.String                                                        `tfsdk:"route_target_address_family"`
	RouteTargetDirections    []VRFAddressFamiliesRouteTargetAddressFamiliesRouteTargetDirections `tfsdk:"route_target_directions"`
}

type VRFAddressFamiliesRouteTargetAddressFamiliesRouteTargetDirections struct {
	Direction    types.String                                                                    `tfsdk:"direction"`
	RouteTargets []VRFAddressFamiliesRouteTargetAddressFamiliesRouteTargetDirectionsRouteTargets `tfsdk:"route_targets"`
}

type VRFAddressFamiliesRouteTargetAddressFamiliesRouteTargetDirectionsRouteTargets struct {
	RouteTarget types.String `tfsdk:"route_target"`
}

type VRFIdentity struct {
	Device types.String `tfsdk:"device"`
	Name   types.String `tfsdk:"name"`
}

func (data *VRFIdentity) toIdentity(ctx context.Context, plan *VRF) {
	if plan.Device.IsNull() {
		data.Device = types.StringValue("")
	} else {
		data.Device = plan.Device
	}
	data.Name = plan.Name
}

func (data *VRF) fromIdentity(ctx context.Context, identity *VRFIdentity) {
	if identity.Device.ValueString() == "" {
		data.Device = types.StringNull()
	} else {
		data.Device = identity.Device
	}
	data.Name = identity.Name
}

// End of section. //template:end types

// Section below is generated&owned by "gen/generator.go". //template:begin getPath

func (data VRF) getDn() string {
	return fmt.Sprintf("sys/inst-[%s]", data.Name.ValueString())
}

func (data VRFAddressFamilies) getRn() string {
	return fmt.Sprintf("af-[%s]", data.AddressFamily.ValueString())
}

func (data VRFAddressFamiliesRouteTargetAddressFamilies) getRn() string {
	return fmt.Sprintf("ctrl-[%s]", data.RouteTargetAddressFamily.ValueString())
}

func (data VRFAddressFamiliesRouteTargetAddressFamiliesRouteTargetDirections) getRn() string {
	return fmt.Sprintf("rttp-%s", data.Direction.ValueString())
}

func (data VRFAddressFamiliesRouteTargetAddressFamiliesRouteTargetDirectionsRouteTargets) getRn() string {
	return fmt.Sprintf("ent-[%s]", data.RouteTarget.ValueString())
}

func (data VRF) getClassName() string {
	return "l3Inst"
}

// End of section. //template:end getPath

// Section below is generated&owned by "gen/generator.go". //template:begin toBody

func (data VRF) toBody() nxos.Body {
	body := ""
	body, _ = sjson.Set(body, data.getClassName()+".attributes", map[string]interface{}{})
	if (!data.Name.IsUnknown() && !data.Name.IsNull()) || false {
		body, _ = sjson.Set(body, data.getClassName()+".attributes."+"name", data.Name.ValueString())
	}
	if (!data.Description.IsUnknown() && !data.Description.IsNull()) || false {
		body, _ = sjson.Set(body, data.getClassName()+".attributes."+"descr", data.Description.ValueString())
	}
	if (!data.AdminState.IsUnknown() && !data.AdminState.IsNull()) || false {
		body, _ = sjson.Set(body, data.getClassName()+".attributes."+"adminState", data.AdminState.ValueString())
	}
	if (!data.ControllerId.IsUnknown() && !data.ControllerId.IsNull()) || false {
		body, _ = sjson.Set(body, data.getClassName()+".attributes."+"ctrlrId", strconv.FormatInt(data.ControllerId.ValueInt64(), 10))
	}
	if (!data.Encap.IsUnknown() && !data.Encap.IsNull()) || false {
		body, _ = sjson.Set(body, data.getClassName()+".attributes."+"encap", data.Encap.ValueString())
	}
	if (!data.L3vni.IsUnknown() && !data.L3vni.IsNull()) || false {
		body, _ = sjson.Set(body, data.getClassName()+".attributes."+"l3vni", strconv.FormatBool(data.L3vni.ValueBool()))
	}
	if (!data.Oui.IsUnknown() && !data.Oui.IsNull()) || false {
		body, _ = sjson.Set(body, data.getClassName()+".attributes."+"oui", data.Oui.ValueString())
	}
	if (!data.VpnId.IsUnknown() && !data.VpnId.IsNull()) || false {
		body, _ = sjson.Set(body, data.getClassName()+".attributes."+"vpnId", data.VpnId.ValueString())
	}
	var attrs string
	childrenPath := data.getClassName() + ".children"
	{
		childIndex := len(gjson.Get(body, childrenPath).Array())
		childBodyPath := childrenPath + "." + strconv.Itoa(childIndex) + ".rtctrlDom"
		attrs = "{}"
		attrs, _ = sjson.Set(attrs, "name", data.Name.ValueString())
		if (!data.RoutingEncap.IsUnknown() && !data.RoutingEncap.IsNull()) || false {
			attrs, _ = sjson.Set(attrs, "encap", data.RoutingEncap.ValueString())
		}
		if (!data.RouteDistinguisher.IsUnknown() && !data.RouteDistinguisher.IsNull()) || false {
			attrs, _ = sjson.Set(attrs, "rd", data.RouteDistinguisher.ValueString())
		}
		body, _ = sjson.SetRaw(body, childBodyPath+".attributes", attrs)
		nestedChildrenPath := childBodyPath + ".children"
		for _, child := range data.AddressFamilies {
			attrs = "{}"
			if (!child.AddressFamily.IsUnknown() && !child.AddressFamily.IsNull()) || false {
				attrs, _ = sjson.Set(attrs, "type", child.AddressFamily.ValueString())
			}
			body, _ = sjson.SetRaw(body, nestedChildrenPath+".-1.rtctrlDomAf.attributes", attrs)
			{
				nestedIndex := len(gjson.Get(body, nestedChildrenPath).Array()) - 1
				nestedChildrenPath := nestedChildrenPath + "." + strconv.Itoa(nestedIndex) + ".rtctrlDomAf.children"
				for _, child := range child.RouteTargetAddressFamilies {
					attrs = "{}"
					if (!child.RouteTargetAddressFamily.IsUnknown() && !child.RouteTargetAddressFamily.IsNull()) || false {
						attrs, _ = sjson.Set(attrs, "type", child.RouteTargetAddressFamily.ValueString())
					}
					body, _ = sjson.SetRaw(body, nestedChildrenPath+".-1.rtctrlAfCtrl.attributes", attrs)
					{
						nestedIndex := len(gjson.Get(body, nestedChildrenPath).Array()) - 1
						nestedChildrenPath := nestedChildrenPath + "." + strconv.Itoa(nestedIndex) + ".rtctrlAfCtrl.children"
						for _, child := range child.RouteTargetDirections {
							attrs = "{}"
							if (!child.Direction.IsUnknown() && !child.Direction.IsNull()) || false {
								attrs, _ = sjson.Set(attrs, "type", child.Direction.ValueString())
							}
							body, _ = sjson.SetRaw(body, nestedChildrenPath+".-1.rtctrlRttP.attributes", attrs)
							{
								nestedIndex := len(gjson.Get(body, nestedChildrenPath).Array()) - 1
								nestedChildrenPath := nestedChildrenPath + "." + strconv.Itoa(nestedIndex) + ".rtctrlRttP.children"
								for _, child := range child.RouteTargets {
									attrs = "{}"
									if (!child.RouteTarget.IsUnknown() && !child.RouteTarget.IsNull()) || false {
										attrs, _ = sjson.Set(attrs, "rtt", child.RouteTarget.ValueString())
									}
									body, _ = sjson.SetRaw(body, nestedChildrenPath+".-1.rtctrlRttEntry.attributes", attrs)
								}
							}
						}
					}
				}
			}
		}
	}

	return nxos.Body{body}
}

// End of section. //template:end toBody

// Section below is generated&owned by "gen/generator.go". //template:begin fromBody

func (data *VRF) fromBody(res gjson.Result) {
	data.Name = types.StringValue(res.Get(data.getClassName() + ".attributes.name").String())
	data.Description = types.StringValue(res.Get(data.getClassName() + ".attributes.descr").String())
	data.AdminState = types.StringValue(res.Get(data.getClassName() + ".attributes.adminState").String())
	data.ControllerId = types.Int64Value(res.Get(data.getClassName() + ".attributes.ctrlrId").Int())
	data.Encap = types.StringValue(res.Get(data.getClassName() + ".attributes.encap").String())
	data.L3vni = types.BoolValue(helpers.ParseNxosBoolean(res.Get(data.getClassName() + ".attributes.l3vni").String()))
	data.Oui = types.StringValue(res.Get(data.getClassName() + ".attributes.oui").String())
	data.VpnId = types.StringValue(res.Get(data.getClassName() + ".attributes.vpnId").String())
	{
		var rrtctrlDom gjson.Result
		res.Get(data.getClassName() + ".children").ForEach(
			func(_, v gjson.Result) bool {
				key := v.Get("rtctrlDom.attributes.rn").String()
				if key == fmt.Sprintf("dom-%[1]s", data.Name.ValueString()) {
					rrtctrlDom = v
					return false
				}
				return true
			},
		)
		data.RoutingEncap = types.StringValue(rrtctrlDom.Get("rtctrlDom.attributes.encap").String())
		data.RouteDistinguisher = types.StringValue(rrtctrlDom.Get("rtctrlDom.attributes.rd").String())
		rrtctrlDom.Get("rtctrlDom.children").ForEach(
			func(_, v gjson.Result) bool {
				v.ForEach(
					func(classname, value gjson.Result) bool {
						if classname.String() == "rtctrlDomAf" {
							var child VRFAddressFamilies
							child.AddressFamily = types.StringValue(value.Get("attributes.type").String())
							value.Get("children").ForEach(
								func(_, nestedV gjson.Result) bool {
									nestedV.ForEach(
										func(nestedClassname, nestedValue gjson.Result) bool {
											if nestedClassname.String() == "rtctrlAfCtrl" {
												var nestedChildrtctrlAfCtrl VRFAddressFamiliesRouteTargetAddressFamilies
												nestedChildrtctrlAfCtrl.RouteTargetAddressFamily = types.StringValue(nestedValue.Get("attributes.type").String())
												nestedValue.Get("children").ForEach(
													func(_, nestedV gjson.Result) bool {
														nestedV.ForEach(
															func(nestedClassname, nestedValue gjson.Result) bool {
																if nestedClassname.String() == "rtctrlRttP" {
																	var nestedChildrtctrlRttP VRFAddressFamiliesRouteTargetAddressFamiliesRouteTargetDirections
																	nestedChildrtctrlRttP.Direction = types.StringValue(nestedValue.Get("attributes.type").String())
																	nestedValue.Get("children").ForEach(
																		func(_, nestedV gjson.Result) bool {
																			nestedV.ForEach(
																				func(nestedClassname, nestedValue gjson.Result) bool {
																					if nestedClassname.String() == "rtctrlRttEntry" {
																						var nestedChildrtctrlRttEntry VRFAddressFamiliesRouteTargetAddressFamiliesRouteTargetDirectionsRouteTargets
																						nestedChildrtctrlRttEntry.RouteTarget = types.StringValue(nestedValue.Get("attributes.rtt").String())
																						nestedChildrtctrlRttP.RouteTargets = append(nestedChildrtctrlRttP.RouteTargets, nestedChildrtctrlRttEntry)
																					}
																					return true
																				},
																			)
																			return true
																		},
																	)
																	nestedChildrtctrlAfCtrl.RouteTargetDirections = append(nestedChildrtctrlAfCtrl.RouteTargetDirections, nestedChildrtctrlRttP)
																}
																return true
															},
														)
														return true
													},
												)
												child.RouteTargetAddressFamilies = append(child.RouteTargetAddressFamilies, nestedChildrtctrlAfCtrl)
											}
											return true
										},
									)
									return true
								},
							)
							data.AddressFamilies = append(data.AddressFamilies, child)
						}
						return true
					},
				)
				return true
			},
		)
	}
}

// End of section. //template:end fromBody

// Section below is generated&owned by "gen/generator.go". //template:begin updateFromBody

func (data *VRF) updateFromBody(res gjson.Result) {
	if !data.Name.IsNull() {
		data.Name = types.StringValue(res.Get(data.getClassName() + ".attributes.name").String())
	} else {
		data.Name = types.StringNull()
	}
	if !data.Description.IsNull() {
		data.Description = types.StringValue(res.Get(data.getClassName() + ".attributes.descr").String())
	} else {
		data.Description = types.StringNull()
	}
	if !data.AdminState.IsNull() {
		data.AdminState = types.StringValue(res.Get(data.getClassName() + ".attributes.adminState").String())
	} else {
		data.AdminState = types.StringNull()
	}
	if !data.ControllerId.IsNull() {
		data.ControllerId = types.Int64Value(res.Get(data.getClassName() + ".attributes.ctrlrId").Int())
	} else {
		data.ControllerId = types.Int64Null()
	}
	if !data.Encap.IsNull() {
		data.Encap = types.StringValue(res.Get(data.getClassName() + ".attributes.encap").String())
	} else {
		data.Encap = types.StringNull()
	}
	if !data.L3vni.IsNull() {
		data.L3vni = types.BoolValue(helpers.ParseNxosBoolean(res.Get(data.getClassName() + ".attributes.l3vni").String()))
	} else {
		data.L3vni = types.BoolNull()
	}
	if !data.Oui.IsNull() {
		data.Oui = types.StringValue(res.Get(data.getClassName() + ".attributes.oui").String())
	} else {
		data.Oui = types.StringNull()
	}
	if !data.VpnId.IsNull() {
		data.VpnId = types.StringValue(res.Get(data.getClassName() + ".attributes.vpnId").String())
	} else {
		data.VpnId = types.StringNull()
	}
	var rrtctrlDom gjson.Result
	res.Get(data.getClassName() + ".children").ForEach(
		func(_, v gjson.Result) bool {
			key := v.Get("rtctrlDom.attributes.rn").String()
			if key == fmt.Sprintf("dom-%[1]s", data.Name.ValueString()) {
				rrtctrlDom = v
				return false
			}
			return true
		},
	)
	if !data.RoutingEncap.IsNull() {
		data.RoutingEncap = types.StringValue(rrtctrlDom.Get("rtctrlDom.attributes.encap").String())
	} else {
		data.RoutingEncap = types.StringNull()
	}
	if !data.RouteDistinguisher.IsNull() {
		data.RouteDistinguisher = types.StringValue(rrtctrlDom.Get("rtctrlDom.attributes.rd").String())
	} else {
		data.RouteDistinguisher = types.StringNull()
	}
	for c := range data.AddressFamilies {
		var rrtctrlDomAf gjson.Result
		rrtctrlDom.Get("rtctrlDom.children").ForEach(
			func(_, v gjson.Result) bool {
				key := v.Get("rtctrlDomAf.attributes.rn").String()
				if key == data.AddressFamilies[c].getRn() {
					rrtctrlDomAf = v
					return false
				}
				return true
			},
		)
		if !data.AddressFamilies[c].AddressFamily.IsNull() {
			data.AddressFamilies[c].AddressFamily = types.StringValue(rrtctrlDomAf.Get("rtctrlDomAf.attributes.type").String())
		} else {
			data.AddressFamilies[c].AddressFamily = types.StringNull()
		}
		for nc := range data.AddressFamilies[c].RouteTargetAddressFamilies {
			var rrtctrlAfCtrl gjson.Result
			rrtctrlDomAf.Get("rtctrlDomAf.children").ForEach(
				func(_, v gjson.Result) bool {
					key := v.Get("rtctrlAfCtrl.attributes.rn").String()
					if key == data.AddressFamilies[c].RouteTargetAddressFamilies[nc].getRn() {
						rrtctrlAfCtrl = v
						return false
					}
					return true
				},
			)
			if !data.AddressFamilies[c].RouteTargetAddressFamilies[nc].RouteTargetAddressFamily.IsNull() {
				data.AddressFamilies[c].RouteTargetAddressFamilies[nc].RouteTargetAddressFamily = types.StringValue(rrtctrlAfCtrl.Get("rtctrlAfCtrl.attributes.type").String())
			} else {
				data.AddressFamilies[c].RouteTargetAddressFamilies[nc].RouteTargetAddressFamily = types.StringNull()
			}
			for nc_ := range data.AddressFamilies[c].RouteTargetAddressFamilies[nc].RouteTargetDirections {
				var rrtctrlRttP gjson.Result
				rrtctrlAfCtrl.Get("rtctrlAfCtrl.children").ForEach(
					func(_, v gjson.Result) bool {
						key := v.Get("rtctrlRttP.attributes.rn").String()
						if key == data.AddressFamilies[c].RouteTargetAddressFamilies[nc].RouteTargetDirections[nc_].getRn() {
							rrtctrlRttP = v
							return false
						}
						return true
					},
				)
				if !data.AddressFamilies[c].RouteTargetAddressFamilies[nc].RouteTargetDirections[nc_].Direction.IsNull() {
					data.AddressFamilies[c].RouteTargetAddressFamilies[nc].RouteTargetDirections[nc_].Direction = types.StringValue(rrtctrlRttP.Get("rtctrlRttP.attributes.type").String())
				} else {
					data.AddressFamilies[c].RouteTargetAddressFamilies[nc].RouteTargetDirections[nc_].Direction = types.StringNull()
				}
				for nc__ := range data.AddressFamilies[c].RouteTargetAddressFamilies[nc].RouteTargetDirections[nc_].RouteTargets {
					var rrtctrlRttEntry gjson.Result
					rrtctrlRttP.Get("rtctrlRttP.children").ForEach(
						func(_, v gjson.Result) bool {
							key := v.Get("rtctrlRttEntry.attributes.rn").String()
							if key == data.AddressFamilies[c].RouteTargetAddressFamilies[nc].RouteTargetDirections[nc_].RouteTargets[nc__].getRn() {
								rrtctrlRttEntry = v
								return false
							}
							return true
						},
					)
					if !data.AddressFamilies[c].RouteTargetAddressFamilies[nc].RouteTargetDirections[nc_].RouteTargets[nc__].RouteTarget.IsNull() {
						data.AddressFamilies[c].RouteTargetAddressFamilies[nc].RouteTargetDirections[nc_].RouteTargets[nc__].RouteTarget = types.StringValue(rrtctrlRttEntry.Get("rtctrlRttEntry.attributes.rtt").String())
					} else {
						data.AddressFamilies[c].RouteTargetAddressFamilies[nc].RouteTargetDirections[nc_].RouteTargets[nc__].RouteTarget = types.StringNull()
					}
				}
			}
		}
	}
}

// End of section. //template:end updateFromBody

// Section below is generated&owned by "gen/generator.go". //template:begin toDeleteBody

func (data VRF) toDeleteBody() nxos.Body {
	body := ""
	body, _ = sjson.Set(body, data.getClassName()+".attributes.status", "deleted")

	return nxos.Body{body}
}

func (data VRF) toBodyWithDeletes(ctx context.Context, state VRF) nxos.Body {
	body := data.toBody()
	bodyPath := data.getClassName() + ".children"
	_ = bodyPath
	for _, stateChild := range state.AddressFamilies {
		found := false
		for _, planChild := range data.AddressFamilies {
			if stateChild.AddressFamily == planChild.AddressFamily {
				found = true
				break
			}
		}
		if !found {
			deleteBody := ""
			deleteBody, _ = sjson.Set(deleteBody, "rtctrlDomAf.attributes.rn", stateChild.getRn())
			deleteBody, _ = sjson.Set(deleteBody, "rtctrlDomAf.attributes.status", "deleted")
			body.Str, _ = sjson.SetRaw(body.Str, bodyPath+".0.rtctrlDom.children"+".-1", deleteBody)
		}
	}
	for di := range state.AddressFamilies {
		for pdi := range data.AddressFamilies {
			if state.AddressFamilies[di].AddressFamily == data.AddressFamilies[pdi].AddressFamily {
				matchBodyPathdi := ""
				for mi, mv := range gjson.Get(body.Str, bodyPath+".0.rtctrlDom.children").Array() {
					if mv.Get("rtctrlDomAf.attributes.rn").String() == state.AddressFamilies[di].getRn() {
						matchBodyPathdi = bodyPath + ".0.rtctrlDom.children" + "." + strconv.Itoa(mi) + ".rtctrlDomAf.children"
						break
					}
				}
				if matchBodyPathdi == "" {
					break
				}
				for _, stateChild := range state.AddressFamilies[di].RouteTargetAddressFamilies {
					found := false
					for _, planChild := range data.AddressFamilies[pdi].RouteTargetAddressFamilies {
						if stateChild.RouteTargetAddressFamily == planChild.RouteTargetAddressFamily {
							found = true
							break
						}
					}
					if !found {
						deleteBody := ""
						deleteBody, _ = sjson.Set(deleteBody, "rtctrlAfCtrl.attributes.rn", stateChild.getRn())
						deleteBody, _ = sjson.Set(deleteBody, "rtctrlAfCtrl.attributes.status", "deleted")
						body.Str, _ = sjson.SetRaw(body.Str, matchBodyPathdi+".-1", deleteBody)
					}
				}
				for di_ := range state.AddressFamilies[di].RouteTargetAddressFamilies {
					for pdi_ := range data.AddressFamilies[pdi].RouteTargetAddressFamilies {
						if state.AddressFamilies[di].RouteTargetAddressFamilies[di_].RouteTargetAddressFamily == data.AddressFamilies[pdi].RouteTargetAddressFamilies[pdi_].RouteTargetAddressFamily {
							matchBodyPathdi_ := ""
							for mi, mv := range gjson.Get(body.Str, matchBodyPathdi).Array() {
								if mv.Get("rtctrlAfCtrl.attributes.rn").String() == state.AddressFamilies[di].RouteTargetAddressFamilies[di_].getRn() {
									matchBodyPathdi_ = matchBodyPathdi + "." + strconv.Itoa(mi) + ".rtctrlAfCtrl.children"
									break
								}
							}
							if matchBodyPathdi_ == "" {
								break
							}
							for _, stateChild := range state.AddressFamilies[di].RouteTargetAddressFamilies[di_].RouteTargetDirections {
								found := false
								for _, planChild := range data.AddressFamilies[pdi].RouteTargetAddressFamilies[pdi_].RouteTargetDirections {
									if stateChild.Direction == planChild.Direction {
										found = true
										break
									}
								}
								if !found {
									deleteBody := ""
									deleteBody, _ = sjson.Set(deleteBody, "rtctrlRttP.attributes.rn", stateChild.getRn())
									deleteBody, _ = sjson.Set(deleteBody, "rtctrlRttP.attributes.status", "deleted")
									body.Str, _ = sjson.SetRaw(body.Str, matchBodyPathdi_+".-1", deleteBody)
								}
							}
							for di__ := range state.AddressFamilies[di].RouteTargetAddressFamilies[di_].RouteTargetDirections {
								for pdi__ := range data.AddressFamilies[pdi].RouteTargetAddressFamilies[pdi_].RouteTargetDirections {
									if state.AddressFamilies[di].RouteTargetAddressFamilies[di_].RouteTargetDirections[di__].Direction == data.AddressFamilies[pdi].RouteTargetAddressFamilies[pdi_].RouteTargetDirections[pdi__].Direction {
										matchBodyPathdi__ := ""
										for mi, mv := range gjson.Get(body.Str, matchBodyPathdi_).Array() {
											if mv.Get("rtctrlRttP.attributes.rn").String() == state.AddressFamilies[di].RouteTargetAddressFamilies[di_].RouteTargetDirections[di__].getRn() {
												matchBodyPathdi__ = matchBodyPathdi_ + "." + strconv.Itoa(mi) + ".rtctrlRttP.children"
												break
											}
										}
										if matchBodyPathdi__ == "" {
											break
										}
										for _, stateChild := range state.AddressFamilies[di].RouteTargetAddressFamilies[di_].RouteTargetDirections[di__].RouteTargets {
											found := false
											for _, planChild := range data.AddressFamilies[pdi].RouteTargetAddressFamilies[pdi_].RouteTargetDirections[pdi__].RouteTargets {
												if stateChild.RouteTarget == planChild.RouteTarget {
													found = true
													break
												}
											}
											if !found {
												deleteBody := ""
												deleteBody, _ = sjson.Set(deleteBody, "rtctrlRttEntry.attributes.rn", stateChild.getRn())
												deleteBody, _ = sjson.Set(deleteBody, "rtctrlRttEntry.attributes.status", "deleted")
												body.Str, _ = sjson.SetRaw(body.Str, matchBodyPathdi__+".-1", deleteBody)
											}
										}
										break
									}
								}
							}
							break
						}
					}
				}
				break
			}
		}
	}
	return body
}

// End of section. //template:end toDeleteBody
