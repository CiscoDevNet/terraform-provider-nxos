---
name: Port Channel Interface
class_name: pcAggrIf
dn: sys/intf/aggr-[%s]
ds_description: This data source can read the configuration of a port-channel interface.
res_description: This resource can manage a port-channel interface.
doc_path: Interfaces/pc:AggrIf/
doc_category: Interface
bulk_resource: true
parent_class_name: interfaceEntity
attributes:
  - nxos_name: id
    tf_name: interface_id
    type: String
    id: true
    description: "Must match first field in the output of `show intf brief`. Example: `po1`."
    example: po1
  - nxos_name: pcMode
    tf_name: port_channel_mode
    type: String
    description: "The aggregated interface protocol channel mode."
    enum_values:
      - "on"
      - static
      - active
      - passive
      - mac-pin
    example: active
  - nxos_name: minLinks
    tf_name: minimum_links
    type: Int64
    description: "minimum links."
    min_int: 1
    max_int: 32
    example: 2
  - nxos_name: maxLinks
    tf_name: maximum_links
    type: Int64
    description: "maximum links."
    min_int: 1
    max_int: 32
    example: 10
  - nxos_name: suspIndividual
    tf_name: suspend_individual
    type: String
    description: "Suspend Individual Port."
    enum_values:
      - enable
      - disable
    example: disable
  - nxos_name: accessVlan
    tf_name: access_vlan
    type: String
    description: "Configured Access Vlan. Possible values are `unknown`, `vlan-XX` or `vxlan-XX`."
    example: vlan-1
  - nxos_name: adminSt
    tf_name: admin_state
    type: String
    description: "Administrative port state."
    enum_values:
      - down
      - up
    example: up
  - nxos_name: autoNeg
    tf_name: auto_negotiation
    type: String
    description: "Administrative port auto-negotiation."
    enum_values:
      - "on"
      - "off"
      - 25G
    example: "on"
  - nxos_name: bw
    tf_name: bandwidth
    type: Int64
    description: "The bandwidth parameter for a routed interface, port channel, or subinterface."
    min_int: 0
    max_int: 3200000000
    example: 0
  - nxos_name: delay
    tf_name: delay
    type: Int64
    description: "The administrative port delay time."
    min_int: 1
    max_int: 16777215
    example: 1
  - nxos_name: descr
    tf_name: description
    type: String
    description: "Interface description."
    example: My Description
  - nxos_name: duplex
    tf_name: duplex
    type: String
    description: "Duplex."
    enum_values:
      - auto
      - full
      - half
    example: auto
  - nxos_name: layer
    tf_name: layer
    type: String
    description: "Administrative port layer."
    enum_values:
      - Layer1
      - Layer2
      - Layer3
    example: Layer2
  - nxos_name: linkLog
    tf_name: link_logging
    type: String
    description: "Administrative link logging enable."
    enum_values:
      - default
      - enable
      - disable
    example: enable
  - nxos_name: medium
    tf_name: medium
    type: String
    description: "The administrative port medium type."
    enum_values:
      - broadcast
      - p2p
    example: broadcast
  - nxos_name: mode
    tf_name: mode
    type: String
    description: "Administrative port mode."
    enum_values:
      - access
      - trunk
      - fex-fabric
      - dot1q-tunnel
      - promiscuous
      - host
      - trunk_secondary
      - trunk_promiscuous
      - vntag
    example: access
  - nxos_name: mtu
    tf_name: mtu
    type: Int64
    description: "Administrative port mtu."
    min_int: 576
    max_int: 9216
    example: 1500
  - nxos_name: nativeVlan
    tf_name: native_vlan
    type: String
    description: "Configured Native Vlan. Possible values are `unknown`, `vlan-XX` or `vxlan-XX`."
    example: unknown
  - nxos_name: speed
    tf_name: speed
    type: String
    description: "Administrative port speed."
    enum_values:
      - unknown
      - 100M
      - 1G
      - 10G
      - 40G
      - auto
      - auto 100M
      - auto 100M 1G
      - 100G
      - 25G
      - 10M
      - 50G
      - 200G
      - 400G
      - 2.5G
      - 5G
      - auto 2.5G 5G 10G
      - auto 100M 1G 2.5G 5G
      - 800G
    example: auto
  - nxos_name: trunkVlans
    tf_name: trunk_vlans
    type: String
    description: "Configed Trunk Vlans."
    example: 1-4094
  - nxos_name: userCfgdFlags
    tf_name: user_configured_flags
    type: String
    enum_values:
      - none
      - admin_state
      - admin_layer
      - admin_router_mac
      - admin_dce_mode
      - admin_mtu
    allow_non_enum_values: true
    description: "Port User Config Flags."
    example: "admin_layer,admin_mtu,admin_state"
child_classes:
  - class_name: nwRtVrfMbr
    rn: rtvrfMbr
    type: single
    doc_path: Routing%20and%20Forwarding/nw:RtVrfMbr/
    attributes:
      - nxos_name: tDn
        tf_name: vrf_dn
        type: String
        description: "DN of VRF. For example: `sys/inst-VRF1`."
        example: sys/inst-default
        exclude_test: true
  - class_name: pcRsMbrIfs
    rn: rsmbrIfs-[%s]
    type: list
    tf_name: members
    description: "List of port-channel member interfaces."
    doc_path: Interfaces/pc:RsMbrIfs/
    attributes:
      - nxos_name: tDn
        tf_name: interface_dn
        type: String
        id: true
        description: "DN of interface. For example: `sys/intf/phys-[eth1/1]`."
        example: sys/intf/phys-[eth1/11]
      - nxos_name: isMbrForce
        tf_name: force
        type: Bool
        description: "Channel group force."
        example: true
test_prerequisites:
  - dn: sys/fm/lacp
    class_name: fmLacp
    no_delete: true
    attributes:
      - name: adminSt
        value: enabled
