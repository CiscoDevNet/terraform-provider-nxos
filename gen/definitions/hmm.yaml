---
name: HMM
class_name: hmmEntity
dn: sys/hmm
ds_description: This data source can read the Host Mobility Manager (HMM) configuration on NX-OS devices, including anycast gateway MAC and fabric forwarding interface settings.
res_description: This resource can manage the Host Mobility Manager (HMM) configuration on NX-OS devices, including anycast gateway MAC and fabric forwarding interface settings.
doc_path: Host%20Mobility/hmm:Entity/
doc_category: Overlay
attributes:
  - nxos_name: adminSt
    tf_name: admin_state
    type: String
    description: "The administrative state of the object or policy."
    enum_values:
      - enabled
      - disabled
    example: enabled
child_classes:
  - class_name: hmmFwdInst
    rn: fwdinst
    type: single
    doc_path: Host%20Mobility/hmm:FwdInst/
    attributes:
      - nxos_name: adminSt
        tf_name: instance_admin_state
        type: String
        description: "The administrative state of the object or policy."
        enum_values:
          - enabled
          - disabled
        example: enabled
      - nxos_name: amac
        tf_name: anycast_mac
        type: String
        description: "Anycast Gateway MAC address."
        example: "20:20:00:00:10:10"
      - nxos_name: adminDist
        tf_name: instance_administrative_distance
        type: Int64
        min_int: 1
        max_int: 255
        description: "Set the administrative distance for HMM."
        example: 150
      - nxos_name: ctrl
        tf_name: instance_control
        type: String
        description: "The control state."
        allow_non_enum_values: true
        enum_values:
          - stateful-ha
        example: stateful-ha
      - nxos_name: limitVlanMac
        tf_name: instance_limit_vlan_mac
        type: Int64
        min_int: 5
        max_int: 4096
        description: "This is to limit the number of hosts learnt by HMM in the same subnet with same MAC information."
        example: 100
      - nxos_name: selHostProbe
        tf_name: instance_selective_host_probe
        type: String
        description: "When set to True, host mobility will be triggered when a remote host route exists irrespective of the sequence id."
        enum_values:
          - "no"
          - "yes"
        example: "yes"
        exclude_test: true
    child_classes:
      - class_name: hmmFwdIf
        rn: if-[%s]
        type: list
        tf_name: interfaces
        description: 'List of HMM Fabric Forwarding interfaces.'
        doc_path: Host%20Mobility/hmm:FwdIf/
        attributes:
          - nxos_name: id
            tf_name: interface_id
            type: String
            id: true
            description: "Must match first field in the output of `show intf brief`. Example: `vlan10`."
            example: vlan10
          - nxos_name: adminSt
            tf_name: admin_state
            type: String
            description: "The administrative state of the object or policy."
            enum_values:
              - enabled
              - disabled
            example: enabled
          - nxos_name: mode
            tf_name: mode
            type: String
            description: "HMM Fabric Forwarding mode information for the interface."
            enum_values:
              - standard
              - anycastGW
              - proxyGW
            example: anycastGW
          - nxos_name: descr
            tf_name: description
            type: String
            description: "Description."
            example: "My Description"
test_prerequisites:
  - dn: sys/fm/ifvlan
    class_name: fmInterfaceVlan
    no_delete: true
    attributes:
      - name: adminSt
        value: enabled
  - dn: sys/intf/svi-[vlan10]
    class_name: sviIf
    attributes:
      - name: id
        value: vlan10
    dependencies: [0]
  - dn: sys/fm/hmm
    class_name: fmHmm
    no_delete: true
    attributes:
      - name: adminSt
        value: enabled
  - dn: sys/fm/evpn
    class_name: fmEvpn
    no_delete: true
    attributes:
      - name: adminSt
        value: enabled
