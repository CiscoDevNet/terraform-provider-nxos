---
name: OSPF
class_name: ospfEntity
dn: sys/ospf
ds_description: This data source can read the OSPF configuration on NX-OS devices, including OSPF instances, VRFs, areas, and interface settings such as cost, priority, and authentication.
res_description: This resource can manage the OSPF configuration on NX-OS devices, including OSPF instances, VRFs, areas, and interface settings such as cost, priority, and authentication.
doc_path: Routing%20and%20Forwarding/ospf:Entity/
doc_category: Routing
attributes:
  - nxos_name: adminSt
    tf_name: admin_state
    type: String
    description: 'The administrative state of the object or policy.'
    enum_values:
      - enabled
      - disabled
    example: enabled
child_classes:
  - class_name: ospfInst
    doc_path: Routing%20and%20Forwarding/ospf:Inst/
    rn: inst-%s
    type: list
    tf_name: instances
    description: 'List of OSPF instances.'
    attributes:
      - nxos_name: name
        tf_name: name
        type: String
        id: true
        description: 'OSPF instance name.'
        example: OSPF1
      - nxos_name: adminSt
        tf_name: admin_state
        type: String
        description: 'The administrative state of the object or policy.'
        enum_values:
          - enabled
          - disabled
        example: enabled
      - nxos_name: ctrl
        tf_name: control
        type: String
        description: 'The control state.'
        enum_values:
          - unspecified
          - stateful-ha
        example: stateful-ha
    child_classes:
      - class_name: ospfDom
        doc_path: Routing%20and%20Forwarding/ospf:Dom/
        rn: dom-%s
        type: list
        tf_name: vrfs
        description: 'List of OSPF VRFs.'
        attributes:
          - nxos_name: name
            tf_name: name
            type: String
            id: true
            description: 'VRF name.'
            example: VRF1
          - nxos_name: adjChangeLogLevel
            tf_name: log_adjacency_changes
            type: String
            description: 'Adjacency change logging level.'
            enum_values:
              - none
              - brief
              - detail
            example: brief
          - nxos_name: adminSt
            tf_name: admin_state
            type: String
            description: 'Holds the administrative state of domain.'
            enum_values:
              - enabled
              - disabled
            example: enabled
          - nxos_name: bwRef
            tf_name: bandwidth_reference
            type: Int64
            min_int: 0
            max_int: 4294967295
            description: 'Bandwidth reference value, holds the range from 1-4000000 if unit is mbps and holds range from 1-4000 if unit is gbps.'
            example: 400000
          - nxos_name: bwRefUnit
            tf_name: bandwidth_reference_unit
            type: String
            description: 'Bandwidth reference unit (Mbps or Gbps).'
            enum_values:
              - mbps
              - gbps
            example: mbps
          - nxos_name: dist
            tf_name: distance
            type: Int64
            min_int: 1
            max_int: 255
            description: 'Administrative distance preference.'
            example: 110
          - nxos_name: rtrId
            tf_name: router_id
            type: String
            description: 'Router identifier for this domain.'
            example: 34.56.78.90
          - nxos_name: capVrfLite
            tf_name: capability_vrf_lite
            type: String
            description: 'Capability vrf-lite for L3VPN or Ethernet VPN.'
            enum_values:
              - unspecified
              - l3vpn
              - evpn
            example: l3vpn
          - nxos_name: ctrl
            tf_name: control
            type: String
            description: 'Holds the controls bfd, name-lookup, default-passive and Segment Routing. Choices: `unspecified`, `bfd`, `name-lookup`, `default-passive`, `segrt`. Can be an empty string. Allowed formats:\n  - Single value. Example: `bfd`\n  - Multiple values (comma-separated). Example: `bfd,default-passive`. In this case values must be in alphabetical order.'
            enum_values:
              - unspecified
              - bfd
              - name-lookup
              - default-passive
              - segrt
            allow_non_enum_values: true
            example: 'bfd,default-passive'
          - nxos_name: defMetric
            tf_name: default_metric
            type: Int64
            min_int: 0
            max_int: 16777214
            description: 'Default metric cost for redistributed routes.'
            example: 1000
          - nxos_name: defRtNssaPbitClear
            tf_name: default_route_nssa_pbit_clear
            type: Bool
            description: 'Override RFC 3101 behaviour and add default route on ABR even if P-bit is clear in received type-7 default route LSA.'
            example: true
          - nxos_name: discardRoute
            tf_name: discard_route
            type: String
            description: 'Control bits for discard-route external and internal.'
            enum_values:
              - unspecified
              - int
              - ext
            allow_non_enum_values: true
            example: 'ext,int'
          - nxos_name: downbitIgnore
            tf_name: down_bit_ignore
            type: Bool
            description: 'Holds the status of Down-bit ignore.'
            example: true
          - nxos_name: maxEcmp
            tf_name: max_ecmp
            type: Int64
            min_int: 1
            max_int: 64
            description: 'Maximum Equal Cost Multi Path(ECMP).'
            example: 16
          - nxos_name: nameLookupVrf
            tf_name: name_lookup_vrf
            type: String
            description: 'Holds vrf name of dns-server for name-lookup.'
            example: default
          - nxos_name: rfc1583Compat
            tf_name: rfc1583_compatible
            type: Bool
            description: 'RFC 1583 compatibility for external path preferences.'
            example: true
          - nxos_name: rfc1583CompatIos
            tf_name: rfc1583_compatible_ios
            type: Bool
            description: 'RFC 1583 compatibility to IOS for external path preferences.'
            example: true
        child_classes:
          - class_name: ospfArea
            doc_path: Routing%20and%20Forwarding/ospf:Area/
            rn: area-%s
            type: list
            tf_name: areas
            description: 'List of OSPF areas.'
            attributes:
              - nxos_name: id
                tf_name: area_id
                type: String
                id: true
                description: 'Area identifier to which a network or interface belongs in IPv4 address format.'
                example: 0.0.0.10
              - nxos_name: authType
                tf_name: authentication_type
                type: String
                description: 'Authentication type can be simple, none or md5.'
                enum_values:
                  - none
                  - simple
                  - md5
                  - unspecified
                example: unspecified
              - nxos_name: cost
                tf_name: cost
                type: Int64
                min_int: 0
                max_int: 16777215
                description: 'Area cost, specifies cost for default summary LSAs, Used with nssa/stub area types.'
                example: 10
              - nxos_name: ctrl
                tf_name: control
                type: String
                description: 'Area controls can be ABRs originate summary LSAs into other areas, redistributed LSAs or suppress forwarding address. Choices: `unspecified`, `summary`, `redistribute`, `suppress-fa`. Can be an empty string. Allowed formats:\n  - Single value. Example: `summary`\n  - Multiple values (comma-separated). Example: `redistribute,summary`. In this case values must be in alphabetical order.'
                enum_values:
                  - unspecified
                  - summary
                  - redistribute
                  - suppress-fa
                allow_non_enum_values: true
                example: summary
              - nxos_name: nssaTransRole
                tf_name: nssa_translator_role
                type: String
                description: 'Not-so-stubby area(NSSA) translator role.'
                enum_values:
                  - always
                  - candidate
                  - never
                example: always
              - nxos_name: sgmntRtgMpls
                tf_name: segment_routing_mpls
                type: String
                description: 'Segment routing mpls control.'
                enum_values:
                  - unspecified
                  - mpls
                  - disable
                example: mpls
              - nxos_name: type
                tf_name: type
                type: String
                description: 'Area types can be stub, nssa, backbone etc.'
                enum_values:
                  - regular
                  - stub
                  - nssa
                example: stub
          - class_name: ospfMaxMetricLsaP
            doc_path: Routing%20and%20Forwarding/ospf:MaxMetricLsaP/
            rn: maxmetriclsap
            type: single
            tf_name: max_metric
            description: 'OSPF Max Metric Link State Advertisement configuration.'
            attributes:
              - nxos_name: awaitConvBgpAsn
                tf_name: max_metric_await_convergence_bgp_asn
                type: String
                description: 'At startup, advertise max metric until convergence of BGP ASN.'
                example: '65535'
              - nxos_name: ctrl
                tf_name: max_metric_control
                type: String
                description: 'Maximum Metric Controls - specifies when to send max-metric LSAs. Choices: `unspecified`, `summary-lsa`, `external-lsa`, `startup`, `stub`. Can be an empty string. Allowed formats:\n  - Single value. Example: `stub`\n  - Multiple values (comma-separated). Example: `stub,summary-lsa`. In this case values must be in alphabetical order.'
                enum_values:
                  - unspecified
                  - summary-lsa
                  - external-lsa
                  - startup
                  - stub
                allow_non_enum_values: true
                example: 'external-lsa,startup,stub,summary-lsa'
              - nxos_name: maxMetricExtLsa
                tf_name: max_metric_external_lsa
                type: Int64
                min_int: 0
                max_int: 16777215
                description: 'Maximum metric value for external LSAs.'
                example: 600
              - nxos_name: maxMetricSummLsa
                tf_name: max_metric_summary_lsa
                type: Int64
                min_int: 0
                max_int: 16777215
                description: 'Maximum metric value for summary LSAs.'
                example: 600
              - nxos_name: startupIntvl
                tf_name: max_metric_startup_interval
                type: Int64
                min_int: 0
                max_int: 4294967295
                description: 'Time (in secs) for which max metric should be advertised at startup.'
                example: 300
          - class_name: ospfIf
            doc_path: Routing%20and%20Forwarding/ospf:If/
            rn: if-[%s]
            type: list
            tf_name: interfaces
            description: 'List of OSPF interfaces.'
            attributes:
              - nxos_name: id
                tf_name: interface_id
                type: String
                id: true
                description: 'Must match first field in the output of `show intf brief`. Example: `eth1/1`.'
                example: eth1/10
              - nxos_name: adminSt
                tf_name: admin_state
                type: String
                description: 'The administrative state of the object or policy.'
                enum_values:
                  - enabled
                  - disabled
                example: enabled
              - nxos_name: advertiseSecondaries
                tf_name: advertise_secondaries
                type: Bool
                description: 'Advertise secondary IP addresses.'
                example: false
              - nxos_name: area
                tf_name: area
                type: String
                description: 'Area to which this interface belongs to.'
                example: 0.0.0.10
              - nxos_name: bfdCtrl
                tf_name: bfd
                type: String
                description: 'Bidirectional Forwarding Detection (BFD) control.'
                enum_values:
                  - unspecified
                  - enabled
                  - disabled
                example: disabled
              - nxos_name: cost
                tf_name: cost
                type: Int64
                min_int: 0
                max_int: 65535
                description: 'Specifies the cost of interface.'
                example: 1000
              - nxos_name: deadIntvl
                tf_name: dead_interval
                type: Int64
                min_int: 0
                max_int: 65535
                description: 'Dead interval, interval after which router declares that neighbor as down.'
                example: 60
              - nxos_name: helloIntvl
                tf_name: hello_interval
                type: Int64
                min_int: 0
                max_int: 65535
                description: 'Hello interval, interval between hello packets that OSPF sends on the interface.'
                example: 15
              - nxos_name: nwT
                tf_name: network_type
                type: String
                description: 'Holds the network type as point2point or broadcast.'
                enum_values:
                  - unspecified
                  - p2p
                  - bcast
                example: p2p
              - nxos_name: passiveCtrl
                tf_name: passive
                type: String
                description: 'Passive interface control. Interface can be configured as passive or non-passive.'
                enum_values:
                  - unspecified
                  - enabled
                  - disabled
                example: enabled
              - nxos_name: prio
                tf_name: priority
                type: Int64
                min_int: 0
                max_int: 255
                description: 'Priority, used in determining the designated router on this network.'
                example: 10
              - nxos_name: ctrl
                tf_name: control
                type: String
                description: 'Interface controls can be MTU ignore, Advertise subnet. Choices: `unspecified`, `mtu-ignore`, `advert-subnet`. Can be an empty string. Allowed formats:\n  - Single value. Example: `mtu-ignore`\n  - Multiple values (comma-separated). Example: `advert-subnet,mtu-ignore`. In this case values must be in alphabetical order.'
                enum_values:
                  - mtu-ignore
                  - advert-subnet
                  - unspecified
                allow_non_enum_values: true
                example: mtu-ignore
              - nxos_name: nodeFlag
                tf_name: node_flag
                type: String
                description: 'Node flag, determines if prefix attribute should have the node flag or not.'
                enum_values:
                  - unspecified
                  - clear
                example: clear
              - nxos_name: rexmitIntvl
                tf_name: retransmit_interval
                type: Int64
                min_int: 1
                max_int: 65535
                description: 'Retransmit interval, time between LSA retransmissions.'
                example: 10
              - nxos_name: xmitDelay
                tf_name: transmit_delay
                type: Int64
                min_int: 1
                max_int: 450
                description: 'Transmit delay, estimated time needed to send an LSA update packet.'
                example: 2
            child_classes:
              - class_name: ospfAuthNewP
                doc_path: Routing%20and%20Forwarding/ospf:AuthNewP/
                rn: authnew
                type: single
                tf_name: authentication
                description: 'OSPF authentication configuration.'
                attributes:
                  - nxos_name: key
                    tf_name: authentication_key
                    type: String
                    write_only: true
                    description: 'Key used for authenticatoin.'
                    example: 0 mykey
                  - nxos_name: keyId
                    tf_name: authentication_key_id
                    type: Int64
                    min_int: 0
                    max_int: 255
                    description: 'Key id used for authentication.'
                    example: 1
                  - nxos_name: keyNew
                    tf_name: authentication_key_new
                    type: String
                    write_only: true
                    description: 'Key used for authenticatoin.'
                    example: 0 mykey
                  - nxos_name: keySecureMode
                    tf_name: authentication_key_secure_mode
                    type: Bool
                    description: 'Encrypted authentication key or plain text key.'
                    example: false
                  - nxos_name: keychain
                    tf_name: authentication_keychain
                    type: String
                    description: 'Authentication keychain.'
                    example: mykeychain
                  - nxos_name: md5key
                    tf_name: authentication_md5_key
                    type: String
                    write_only: true
                    description: 'Authentication md5 key.'
                    example: 0 mymd5key
                  - nxos_name: md5keyNew
                    tf_name: authentication_md5_key_new
                    type: String
                    write_only: true
                    description: 'Authentication md5 key.'
                    example: 0 mymd5key
                  - nxos_name: md5keySecureMode
                    tf_name: authentication_md5_key_secure_mode
                    type: Bool
                    description: 'Encrypted authentication md5 key or plain text key.'
                    example: false
                  - nxos_name: type
                    tf_name: authentication_type
                    type: String
                    description: 'Authentication types can be simple, md5 or none.'
                    enum_values:
                      - none
                      - simple
                      - md5
                      - unspecified
                    example: none
test_prerequisites:
  - dn: sys/fm/ospf
    class_name: fmOspf
    no_delete: true
    attributes:
      - name: adminSt
        value: enabled
  - dn: sys/fm/bfd
    class_name: fmBfd
    dependencies: [0]
    no_delete: true
    attributes:
      - name: adminSt
        value: enabled
  - dn: sys/intf/phys-[eth1/10]
    class_name: l1PhysIf
    attributes:
      - name: layer
        value: Layer3
    dependencies: [1]
  - dn: sys/intf/phys-[eth1/10]/rtvrfMbr
    class_name: nwRtVrfMbr
    attributes:
      - name: tDn
        value: sys/inst-VRF1
    dependencies: [2]
