// Code generated by "gen/generator.go"; DO NOT EDIT.

package provider

import (
	"fmt"

	"strconv"

	"github.com/hashicorp/terraform-plugin-framework/types"
	"github.com/netascode/go-nxos"
	"github.com/netascode/terraform-provider-nxos/internal/provider/helpers"
	"github.com/tidwall/gjson"
)

type OSPFAuthentication struct {
	Device           types.String `tfsdk:"device"`
	Dn               types.String `tfsdk:"id"`
	Inst             types.String `tfsdk:"instance_name"`
	Name             types.String `tfsdk:"vrf_name"`
	Id               types.String `tfsdk:"interface_id"`
	Key              types.String `tfsdk:"key"`
	KeyId            types.Int64  `tfsdk:"key_id"`
	KeySecureMode    types.Bool   `tfsdk:"key_secure_mode"`
	Keychain         types.String `tfsdk:"keychain"`
	Md5key           types.String `tfsdk:"md5_key"`
	Md5keySecureMode types.Bool   `tfsdk:"md5_key_secure_mode"`
	Type             types.String `tfsdk:"type"`
}

func (data OSPFAuthentication) getDn() string {
	return fmt.Sprintf("sys/ospf/inst-[%s]/dom-[%s]/if-[%s]/authnew", data.Inst.ValueString(), data.Name.ValueString(), data.Id.ValueString())
}

func (data OSPFAuthentication) getClassName() string {
	return "ospfAuthNewP"
}

func (data OSPFAuthentication) toBody() nxos.Body {
	attrs := nxos.Body{}.
		Set("key", data.Key.ValueString()).
		Set("keyId", strconv.FormatInt(data.KeyId.ValueInt64(), 10)).
		Set("keySecureMode", strconv.FormatBool(data.KeySecureMode.ValueBool())).
		Set("keychain", data.Keychain.ValueString()).
		Set("md5key", data.Md5key.ValueString()).
		Set("md5keySecureMode", strconv.FormatBool(data.Md5keySecureMode.ValueBool())).
		Set("type", data.Type.ValueString())
	return nxos.Body{}.SetRaw(data.getClassName()+".attributes", attrs.Str)
}

func (data *OSPFAuthentication) fromBody(res gjson.Result) {
	data.KeyId = types.Int64Value(res.Get("*.attributes.keyId").Int())
	data.KeySecureMode = types.BoolValue(helpers.ParseNxosBoolean(res.Get("*.attributes.keySecureMode").String()))
	data.Keychain = types.StringValue(res.Get("*.attributes.keychain").String())
	data.Md5keySecureMode = types.BoolValue(helpers.ParseNxosBoolean(res.Get("*.attributes.md5keySecureMode").String()))
	data.Type = types.StringValue(res.Get("*.attributes.type").String())
}

func (data *OSPFAuthentication) fromPlan(plan OSPFAuthentication) {
	data.Device = plan.Device
	data.Dn = plan.Dn
	data.Inst = plan.Inst
	data.Name = plan.Name
	data.Id = plan.Id
	data.Key = plan.Key
	data.Md5key = plan.Md5key
}
