---
name: VRF
class_name: l3Inst
dn: sys/inst-[%s]
ds_description: This data source can read a VRF on NX-OS devices, including route distinguisher, address families, and route target configurations.
res_description: This resource can manage a VRF on NX-OS devices, including route distinguisher, address families, and route target configurations.
doc_path: Layer%203/l3:Inst/
doc_category: Routing
bulk_resource: true
parent_class_name: topSystem
attributes:
  - nxos_name: name
    tf_name: name
    type: String
    id: true
    description: 'VRF name.'
    example: 'VRF1'
  - nxos_name: descr
    tf_name: description
    type: String
    description: 'Description.'
    example: My VRF1 Description
  - nxos_name: encap
    tf_name: encap
    type: String
    description: 'Encap for this Context. Supported formats: `unknown`, `vlan-%d` or `vxlan-%d`.'
    example: vxlan-103901
child_classes:
  - class_name: rtctrlDom
    doc_path: Routing%20and%20Forwarding/rtctrl:Dom/
    rn: dom-%[1]s
    type: single
    tf_name: routing
    description: 'VRF routing configuration.'
    attributes:
      - nxos_name: rd
        tf_name: route_distinguisher
        type: String
        description: 'Route Distinguisher. Value in NX-OS DME format.'
        example: 'rd:unknown:0:0'
    child_classes:
      - class_name: rtctrlDomAf
        doc_path: Routing%20and%20Forwarding/rtctrl:DomAf/
        rn: af-[%s]
        type: list
        tf_name: address_families
        description: 'List of VRF address families.'
        attributes:
          - nxos_name: type
            tf_name: address_family
            type: String
            id: true
            description: 'Type.'
            enum_values:
              - ipv4-ucast
              - ipv4-mcast
              - vpnv4-ucast
              - ipv6-ucast
              - ipv6-mcast
              - vpnv6-ucast
              - vpnv6-mcast
              - l2vpn-evpn
              - ipv4-lucast
              - ipv6-lucast
              - lnkstate
              - ipv4-mvpn
              - ipv6-mvpn
              - l2vpn-vpls
              - ipv4-mdt
            example: ipv4-ucast
        child_classes:
          - class_name: rtctrlAfCtrl
            doc_path: Routing%20and%20Forwarding/rtctrl:AfCtrl/
            rn: ctrl-[%s]
            type: list
            tf_name: route_target_address_families
            description: 'List of VRF route target address families.'
            attributes:
              - nxos_name: type
                tf_name: route_target_address_family
                type: String
                id: true
                description: 'Type.'
                enum_values:
                  - ipv4-ucast
                  - ipv4-mcast
                  - vpnv4-ucast
                  - ipv6-ucast
                  - ipv6-mcast
                  - vpnv6-ucast
                  - vpnv6-mcast
                  - l2vpn-evpn
                  - ipv4-lucast
                  - ipv6-lucast
                  - lnkstate
                  - ipv4-mvpn
                  - ipv6-mvpn
                  - l2vpn-vpls
                  - ipv4-mdt
                example: ipv4-ucast
            child_classes:
              - class_name: rtctrlRttP
                doc_path: Routing%20and%20Forwarding/rtctrl:RttP/
                rn: rttp-%s
                type: list
                tf_name: route_target_directions
                description: 'List of VRF route target directions.'
                attributes:
                  - nxos_name: type
                    tf_name: direction
                    type: String
                    id: true
                    description: 'Type.'
                    enum_values:
                      - import
                      - export
                    example: import
                child_classes:
                  - class_name: rtctrlRttEntry
                    doc_path: Routing%20and%20Forwarding/rtctrl:RttEntry/
                    rn: ent-[%s]
                    type: list
                    tf_name: route_targets
                    description: 'List of VRF route target entries.'
                    attributes:
                      - nxos_name: rtt
                        tf_name: route_target
                        type: String
                        id: true
                        description: 'Route Target. Value in NX-OS DME format.'
                        example: route-target:as2-nn2:2:2
test_prerequisites:
  - dn: sys/fm/bgp
    class_name: fmBgp
    no_delete: true
    attributes:
      - name: adminSt
        value: enabled
