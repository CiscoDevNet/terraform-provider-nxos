---
name: ICMPv4
class_name: icmpv4Entity
dn: sys/icmpv4
ds_description: This data source can read the ICMPv4 configuration on NX-OS devices, including per-VRF and per-interface ICMP control settings such as redirects and unreachables.
res_description: This resource can manage the ICMPv4 configuration on NX-OS devices, including per-VRF and per-interface ICMP control settings such as redirects and unreachables.
doc_path: ICMP/icmpv4:Entity/
doc_category: System
attributes:
  - nxos_name: adminSt
    tf_name: admin_state
    type: String
    description: 'The administrative state of the object or policy.'
    enum_values:
      - enabled
      - disabled
    example: enabled
child_classes:
  - class_name: icmpv4Inst
    rn: inst
    type: single
    doc_path: ICMP/icmpv4:Inst/
    attributes:
      - nxos_name: adminSt
        tf_name: instance_admin_state
        type: String
        description: 'The administrative state of the object or policy.'
        enum_values:
          - enabled
          - disabled
        example: enabled
      - nxos_name: ctrl
        tf_name: control
        type: String
        description: 'The control state.'
        allow_non_enum_values: true
        enum_values:
          - stateful-ha
        example: stateful-ha
    child_classes:
      - class_name: icmpv4Dom
        rn: dom-%s
        type: list
        tf_name: vrfs
        description: 'List of ICMPv4 VRF configurations.'
        doc_path: ICMP/icmpv4:Dom/
        attributes:
          - nxos_name: name
            tf_name: name
            type: String
            id: true
            description: 'The name of the object.'
            example: VRF1
        child_classes:
          - class_name: icmpv4If
            rn: if-[%s]
            type: list
            tf_name: interfaces
            description: 'List of ICMPv4 interface configurations.'
            doc_path: ICMP/icmpv4:If/
            attributes:
              - nxos_name: id
                tf_name: id
                type: String
                id: true
                description: 'Must match first field in the output of `show intf brief`. Example: `vlan100`.'
                example: vlan10
              - nxos_name: ctrl
                tf_name: control
                type: String
                enum_values:
                  - port-unreachable
                  - redirect
                  - unreachable
                allow_non_enum_values: true
                description: 'The control state. Choices: `redirect`, `unreachable`, `port-unreachable`. Can be an empty string. Allowed formats:\n  - Single value. Example: `unreachable`\n  - Multiple values (comma-separated). Example: `redirect,unreachable`. In this case values must be in alphabetical order.'
                example: port-unreachable
test_prerequisites:
  - dn: sys/fm/ifvlan
    class_name: fmInterfaceVlan
    no_delete: true
    attributes:
      - name: adminSt
        value: enabled
  - dn: sys/intf/svi-[vlan10]
    class_name: sviIf
    attributes:
      - name: id
        value: vlan10
    dependencies: [0]
